<html>
  <body>
<h1>Uploading multiple files using Ajax and FormData</h1>
    <input type="file" id="fileinput" multiple="multiple"/>
  <script>
function uploadFiles(fileList) {
  for (var i = 0; i < fileList.length; i++) {
		uploadFile(fileList[i]);
  }
}
function uploadFile(file){
    var url = 'http://localhost:8082/';
    var xhr = new XMLHttpRequest();
    var fd = new FormData();
    xhr.open("POST", url, true);
    xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
            // Every thing ok, file uploaded
            console.log(xhr.responseText); // handle response.
        }
    };
    fd.append("upload_file", file);
    xhr.send(fd);
}
  </script>
    <button onclick="uploadFile(document.getElementById('fileinput').files);">upload</button>

<h1>Uploading multiple files using Form submit</h1>
<form action="http://localhost:8082/form" method="post" enctype="multipart/form-data">
  First name:<br>
  <input type="text" name="firstname" value="Mickey"><br>
  Last name:<br>
  <input type="text" name="lastname" value="Mouse"><br><br>
  <input type="file" name="fileToUpload" id="fileToUpload">
  <input type="submit" value="Submit">
</form>
  </body>
</html>

<!DOCTYPE html>
<html lang='en'>

<head>
    <title>FlowFiles</title>
    <link rel='stylesheet' type='text/css' href='css/main.css'>
    <script type='text/javascript' src='https://d3js.org/d3.v5.min.js'></script>
    <script type='text/javascript' src='js/common.js'></script>
    <script type='text/javascript' src='js/flow-file.js'></script>
    <style>
        body {
            font-family: Arial;
        }
    </style>
</head>

<body>
    <div id='diagram-container'></div>
    <script language='javascript'>
        var f1 = {
            position: { x: 20, y: 20 },
            id: '1',
            attributes: [
                {name: 'a', value: 'one'}
            ],
            content: {
                type: 'text',
                value: 'Hello world'
            }
        };

        var f2 = {
            position: { x: 60, y: 160 },
            id: '2',
            attributes: [
                {name: 'a', value: 'one'},
                {name: 'b', value: 'two'}
            ],
            content: {
                type: 'text',
                value: 'Hello world II'
            }
        };

        var flowFiles = [f1, f2];

        flowFile.render(flowFiles);

        var updateFlowFiles = () => {
            flowFiles[1].position.x = 80;
            flowFiles[1].attributes.push({name: 'hoge', value: 'foo'});
            flowFile.render(flowFiles);
        };

    </script>
    </div>
</body>

</html>